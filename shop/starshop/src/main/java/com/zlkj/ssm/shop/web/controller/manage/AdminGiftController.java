package com.zlkj.ssm.shop.web.controller.manage;import org.apache.commons.lang.StringUtils;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.ui.ModelMap;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.servlet.mvc.support.RedirectAttributes;import com.zlkj.ssm.shop.core.entity.User;import com.zlkj.ssm.shop.manage.entity.Gift;import com.zlkj.ssm.shop.manage.service.AdminGiftService;import com.zlkj.ssm.shop.web.controller.BaseController;import com.zlkj.ssm.shop.web.tools.LoginUserHolder;import javax.servlet.http.HttpServletRequest;/** * 赠品管理 */@Controller@RequestMapping("/manage/gift/")public class AdminGiftController extends BaseController<Gift> {	@Autowired	private AdminGiftService giftService;	private static final String page_toList = "/manage/gift/giftList";	private static final String page_toEdit = "/manage/gift/giftEdit";	private static final String page_toAdd = "/manage/gift/giftEdit";	private static final String page_show = "/manage/gift/show";	private AdminGiftController() {		super.page_toList = page_toList;		super.page_toAdd = page_toAdd;		super.page_toEdit = page_toEdit;	}	@Override	public AdminGiftService getService() {		return giftService;	}	public void setGiftService(AdminGiftService giftService) {		this.giftService = giftService;	}	@Override	public String insert(HttpServletRequest request, Gift e, RedirectAttributes flushAttrs) throws Exception {		User user = LoginUserHolder.getLoginUser();		e.setCreateAccount(user.getUsername());		return super.insert(request, e, flushAttrs);	}		@Override	public String update(HttpServletRequest request, Gift e, RedirectAttributes flushAttrs) throws Exception {		User user = LoginUserHolder.getLoginUser();		e.setUpdateAccount(user.getUsername());		return super.update(request, e, flushAttrs);	}		/**	 * 查看商品赠品的基本信息	 * @return	 */	@RequestMapping("show")	public String show(Gift e, ModelMap model){		if(StringUtils.isBlank(e.getId())){			throw new NullPointerException("id不能为空！");		}				e = giftService.selectById(e.getId());		model.addAttribute("e", e);		return page_show;	}}