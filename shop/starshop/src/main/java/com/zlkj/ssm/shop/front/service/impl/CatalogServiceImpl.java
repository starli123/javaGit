package com.zlkj.ssm.shop.front.service.impl;import java.util.List;import org.springframework.stereotype.Service;import org.springframework.transaction.annotation.Transactional;import com.zlkj.ssm.shop.core.ServersManager;import com.zlkj.ssm.shop.front.dao.CatalogDao;import com.zlkj.ssm.shop.front.entity.Catalog;import com.zlkj.ssm.shop.front.service.CatalogService;import javax.annotation.Resource;@Transactional@Servicepublic class CatalogServiceImpl extends ServersManager<Catalog, CatalogDao> implements		CatalogService {    @Resource    @Override    public void setDao(CatalogDao catalogDao) {        this.dao = catalogDao;    }	// 加载根节点	public List<Catalog> loadRoot(Catalog e) {		List<Catalog> root = dao.selectList(e);		for (int i = 0; i < root.size(); i++) {			Catalog ee = root.get(i);//			SystemManager.catalogMap.put(Integer.valueOf(ee.getId()), Integer.valueOf(ee.getPid()));			loadChildrenByPid(ee);		}//		Catalog top = new Catalog();//		top.setName("-");//		top.setId("0");//		top.setPid("0");//		root.add(0, top);		return root;	}	/**	 * 加载指定节点下的全部子节点	 * 	 * @param item	 */	private void loadChildrenByPid(Catalog item) {		Catalog e = new Catalog();		e.setPid(item.getId());		item.setChildren(dao.selectList(e));		if (item.getChildren() != null && item.getChildren().size() > 0) {			for (int i = 0; i < item.getChildren().size(); i++) {				Catalog ee = item.getChildren().get(i);//				SystemManager.catalogMap.put(Integer.valueOf(ee.getId()), Integer.valueOf(ee.getPid()));				loadChildrenByPid(ee);			}		}	}	}